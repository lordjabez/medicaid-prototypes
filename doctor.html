<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medical Frailty Verification â€” Provider Form</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-link">&larr; Back to prototype home</a>

    <div class="card">
      <div class="brand">Pennsylvania Department of Human Services</div>

      <!-- Screen 1: Verification form -->
      <div class="screen active" id="doctor-form">
        <h1>Medical Frailty Verification</h1>
        <p>Please review and respond to the following verification request.</p>

        <div class="doctor-letter">
          <p>Dear <span class="placeholder">[DOCTOR NAME]</span>,</p>

          <p>Your patient, <span class="placeholder">[PATIENT NAME]</span>, has applied for a work requirement waiver through Pennsylvania Medicaid based on a medical frailty condition.</p>

          <p>Under Pennsylvania's <a href="https://www.pa.gov/agencies/dhs/resources/federal-cuts" target="_blank" class="inline-link">Medicaid work requirements</a>, beneficiaries must complete 80 hours of qualifying activities per month. Individuals with verified medical frailty conditions are exempt from this requirement.</p>

          <p>We are requesting your professional verification to process this waiver. Please respond within <strong>10 business days</strong>.</p>
        </div>

        <p class="question">Can you verify that <span class="placeholder">[PATIENT NAME]</span> has a medical condition that prevents them from working at least 80 hours per month?</p>

        <div class="radio-group" id="verify-options">
          <label class="radio-option" onclick="selectVerify(this)">
            <input type="radio" name="verify" value="yes">
            <span class="radio-label">
              <span class="label-title">Yes, I can verify</span>
              <span class="label-desc">This patient has a condition that limits their ability to work 80 hours/month</span>
            </span>
          </label>
          <label class="radio-option" onclick="selectVerify(this)">
            <input type="radio" name="verify" value="no">
            <span class="radio-label">
              <span class="label-title">No, I cannot verify</span>
              <span class="label-desc">I am unable to verify this condition at this time</span>
            </span>
          </label>
        </div>

        <button class="btn btn-primary" id="btn-doctor-submit" disabled onclick="submitForm()">Submit Verification</button>
      </div>

      <!-- Screen 2a: Confirmation (verified) -->
      <div class="screen" id="doctor-confirm">
        <div class="text-center">
          <div class="confirmation-icon">&#10003;</div>
          <h2>Thank You</h2>
          <p>Your verification has been submitted to the Pennsylvania DHS Medicaid Office.</p>
          <p class="subtitle">No further action is needed. The patient will be notified that their waiver has been approved.</p>
        </div>

        <button class="btn btn-primary" onclick="window.location.href='index.html'">Return to Prototype Home</button>
      </div>

      <!-- Screen 2b: Confirmation (not verified) -->
      <div class="screen" id="doctor-decline">
        <div class="text-center">
          <div class="confirmation-icon decline-icon">&#10007;</div>
          <h2>Response Recorded</h2>
          <p>Your response has been submitted to the Pennsylvania DHS Medicaid Office.</p>
          <p>Because the condition could not be verified, the patient will be notified and given the option to:</p>
        </div>

        <ol class="steps-list">
          <li>
            <span class="step-number">1</span>
            <span class="step-text">Submit their own medical documentation to support the waiver request</span>
          </li>
          <li>
            <span class="step-number">2</span>
            <span class="step-text">Designate a different medical provider for verification</span>
          </li>
          <li>
            <span class="step-number">3</span>
            <span class="step-text">Comply with the standard work requirement (80 hours/month)</span>
          </li>
        </ol>

        <p><a href="https://www.pa.gov/agencies/dhs/resources/for-providers/ma-for-providers/medical-assistance-provider-forms" target="_blank" class="inline-link">Questions? Contact PA DHS Provider Support</a></p>

        <button class="btn btn-primary" onclick="window.location.href='index.html'">Return to Prototype Home</button>
      </div>
    </div>
  </div>

  <script>
    function selectVerify(option) {
      const group = option.closest('.radio-group');
      group.querySelectorAll('.radio-option').forEach(o => o.classList.remove('selected'));
      option.classList.add('selected');
      option.querySelector('input[type="radio"]').checked = true;

      document.getElementById('btn-doctor-submit').disabled = false;
    }

    function submitForm() {
      const verify = document.querySelector('input[name="verify"]:checked');
      document.getElementById('doctor-form').classList.remove('active');

      if (verify && verify.value === 'no') {
        document.getElementById('doctor-decline').classList.add('active');
      } else {
        document.getElementById('doctor-confirm').classList.add('active');
      }
    }
  </script>
</body>
</html>
